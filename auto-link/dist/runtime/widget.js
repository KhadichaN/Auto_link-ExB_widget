/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-core/react"],(function(e,t){var r={},n={};return Object.defineProperty(n,"__esModule",{value:!0}),{setters:[function(e){r.AppMode=e.AppMode,r.LinkType=e.LinkType,r.React=e.React,r.SessionManager=e.SessionManager,r.getAppStore=e.getAppStore},function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))}],execute:function(){e((()=>{var e={154:(e,t,r)=>{"use strict";var n=r(972);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,i=n.useRef,u=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var f=i(null);if(null===f.current){var p={hasValue:!1,value:null};f.current=p}else p=f.current;f=c((function(){function e(e){if(!u){if(u=!0,a=e,e=n(e),void 0!==s&&p.hasValue){var t=p.value;if(s(t,e))return i=t}return i=e}if(t=i,o(a,e))return t;var r=n(e);return void 0!==s&&s(t,r)?t:(a=e,i=r)}var a,i,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,s]);var d=a(e,f[0],f[1]);return u((function(){p.hasValue=!0,p.value=d}),[d]),l(d),d}},418:(e,t,r)=>{"use strict";e.exports=r(154)},244:e=>{"use strict";e.exports=r},972:e=>{"use strict";e.exports=n}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var a={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(a),o.d(a,{__set_webpack_public_path__:()=>h,default:()=>w});var e=o(244),t=o(972),r=o(418),n="default"in t?t.default:t,i=Symbol.for("react-redux-context"),u="undefined"!=typeof globalThis?globalThis:{};function c(){if(!n.createContext)return{};const e=u[i]??(u[i]=new Map);let t=e.get(n.createContext);return t||(t=n.createContext(null),e.set(n.createContext,t)),t}var l=c(),s=()=>{throw new Error("uSES not initialized!")};function f(e=l){return function(){return n.useContext(e)}}var p=f(),d=s,y=(e,t)=>e===t;function v(e=l){const t=e===l?p:f(e),r=(e,r={})=>{const{equalityFn:o=y,devModeChecks:a={}}="function"==typeof r?{equalityFn:r}:r;const{store:i,subscription:u,getServerState:c,stabilityCheck:l,identityFunctionCheck:s}=t(),f=(n.useRef(!0),n.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,a.stabilityCheck])),p=d(u.addNestedSub,i.getState,c||i.getState,f,o);return n.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var m=v();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");var b=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),S="undefined"!=typeof navigator&&"ReactNative"===navigator.product;b||S?n.useLayoutEffect:n.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var g;function w(t){const r=m((e=>e.appRuntimeInfo.appMode));return e.React.useEffect((()=>{var n,o,a;if(r!==e.AppMode.Run)return;const i=e.SessionManager.getInstance().getMainSession(),u=null===(n=null==i?void 0:i.username)||void 0===n?void 0:n.trim().toLowerCase(),c=t.config.linkParam,l=(t.config.username||"").split(/[\s,]+/).map((e=>e.trim().toLowerCase())).filter(Boolean);if(u&&l.includes(u)&&(null==c?void 0:c.value)){const t=c.openType||"_self";let r=c.value;if(c.linkType===e.LinkType.Page){const t=new URL(window.location.href),n=t.searchParams.get("id"),i=(0,e.getAppStore)().getState().appConfig,u=c.value,l=null===(o=null==i?void 0:i.pages)||void 0===o?void 0:o[u],s=null===(a=null==l?void 0:l.label)||void 0===a?void 0:a.trim();if(!s)return;if(n){const e=new URLSearchParams;e.set("id",n),e.set("page",s),t.searchParams.forEach(((t,r)=>{"id"!==r&&"page"!==r&&e.set(r,t)})),r=`${t.origin}${t.pathname}?${e.toString()}`}else{const e=t.pathname.match(/\/experience\/[^/]+/);r=e?`${t.origin}${e[0]}/page/${encodeURIComponent(s)}${t.search}`:c.value}if(window.location.href===r)return}"_blank"===t?window.open(r,"_blank"):window.location.href=r}}),[t.config,r]),null}function h(e){o.p=e}g=r.useSyncExternalStoreWithSelector,d=g,(e=>{0})(t.useSyncExternalStore)})(),a})())}}}));